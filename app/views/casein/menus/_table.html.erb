<!-- Scaffolding generated by Casein v5.1.1.5 -->

<table class="table table-striped table-hover table-condensed">
	<thead>
		<tr>
			<th><%= check_box_tag 'multi' %></th>
			<th><%= casein_sort_link "Name", :name %></th>
			<th><%= casein_sort_link "Type", :menu_type %></th>
			<th>&nbsp;</th>
		</tr>
	</thead>
	<tbody>
		<% menus.main.roots.rank(:row_order).each do |menu| %>
			<tr data-update-url=<%= casein_menu_path(menu) %>>
				<td><%= check_box_tag 'menu[menu_ids][]', menu.id, checked = false, { id: dom_id(menu), :class => 'index-check' } %>
					</td>
				<td><%= casein_table_cell_link menu.name, '#' %></td>
				<td><%= casein_table_cell_link menu.menu_type, '#' %></td>
				<td class="delete">
					<%= link_to(casein_show_row_icon("trash"), casein_menu_path(menu), :method => :delete, :data => { :confirm => "Are you sure you want to delete this menu?" }) %>
				</td>
			</tr>
			<% if menu.children? %>
			<tbody class="nested-menu">
			<% menu.children.rank(:row_order).each do |menu| %>
				<tr data-update-url=<%= casein_menu_path(menu) %>>
					<td><%= check_box_tag 'menu[menu_ids][]', menu.id, checked = false, { id: dom_id(menu), :class => 'index-check' } %>
						</td>
					<td><%= casein_table_cell_link menu.name, '#' %></td>
					<td><%= casein_table_cell_link menu.menu_type, '#' %></td>
					<td class="delete">
						<%= link_to(casein_show_row_icon("trash"), casein_menu_path(menu), :method => :delete, :data => { :confirm => "Are you sure you want to delete this menu?" }) %>
					</td>
				</tr>
			<% end %>
			</tbody>
			<% end %>
		<% end %>
	</tbody>
	<tbody>
		<% menus.secondary.roots.rank(:row_order).each do |menu| %>
			<tr data-update-url=<%= casein_menu_path(menu) %>>
				<td><%= check_box_tag 'menu[menu_ids][]', menu.id, checked = false, { id: dom_id(menu), :class => 'index-check' } %>
					</td>
				<td><%= casein_table_cell_link menu.name, '#' %></td>
				<td><%= casein_table_cell_link menu.menu_type, '#' %></td>
				<td class="delete">
					<%= link_to(casein_show_row_icon("trash"), casein_menu_path(menu), :method => :delete, :data => { :confirm => "Are you sure you want to delete this menu?" }) %>
				</td>
			</tr>
		<% end %>
	</tbody>
	<tbody>
		<% menus.footer.roots.rank(:row_order).each do |menu| %>
			<tr data-update-url=<%= casein_menu_path(menu) %>>
				<td><%= check_box_tag 'menu[menu_ids][]', menu.id, checked = false, { id: dom_id(menu), :class => 'index-check' } %>
					</td>
				<td><%= casein_table_cell_link menu.name, '#' %></td>
				<td><%= casein_table_cell_link menu.menu_type, '#' %></td>
				<td class="delete">
					<%= link_to(casein_show_row_icon("trash"), casein_menu_path(menu), :method => :delete, :data => { :confirm => "Are you sure you want to delete this menu?" }) %>
				</td>
			</tr>
		<% end %>
	</tbody>
	<tbody>
		<% menus.unassigned.rank(:row_order).each do |menu| %>
			<tr data-update-url=<%= casein_menu_path(menu) %>>
				<td><%= check_box_tag 'menu[menu_ids][]', menu.id, checked = false, { id: dom_id(menu), :class => 'index-check' } %>
					</td>
				<td><%= casein_table_cell_link menu.name, '#' %></td>
				<td><%= casein_table_cell_link menu.menu_type, '#' %></td>
				<td class="delete">
					<%= link_to(casein_show_row_icon("trash"), casein_menu_path(menu), :method => :delete, :data => { :confirm => "Are you sure you want to delete this menu?" }) %>
				</td>
			</tr>
		<% end %>
	</tbody>
</table>

<% @menus.each do |menu| %>
	<ul>
		<li><%= menu.name %></li>
	</ul>
<% end %>