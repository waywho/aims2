<!-- Scaffolding generated by Casein v5.1.1.5 -->
<h2>Menus</h2>

<%= form_tag update_multiple_casein_menus_path, defaults: { input_html: { :class => 'multiple-edit' } } do %>	

	<table class="table table-striped table-hover table-condensed">
	<thead>
		<tr>
			<th><%= casein_sort_link "Name", :name %></th>
			<th><%= casein_sort_link "Parent", :parent_id %></th>
			<th><%= casein_sort_link "Type", :menu_type %></th>
			<th>&nbsp;</th>
		</tr>
	</thead>
	
	<% @menus.each do |menu| %>
		<%= simple_fields_for 'menus[]', menu do |f| %>
		<tr>
			
			<td><%= casein_table_cell_link menu.name, casein_menu_path(menu) %></td>
			<td><%= f.input :parent_id, collection: Menu.roots, label: false %></td>
			<td><%= f.input :menu_type, collection: Menu::TYPES, label: false %></td>
			<td class="delete">
				<%= link_to(casein_show_row_icon("trash"), casein_menu_path(menu), :method => :delete, :data => { :confirm => "Are you sure you want to delete this menu?" }) %>
			</td>
		</tr>
		<% end %>
	<% end %>
	</table>

	<p class="submits">
	<%= link_to 'Cancel', casein_menus_path, :class => 'btn btn-mini btn-default' %>
	<%= submit_tag "Save changes", :class => "btn btn-mini btn-primary" %>
	</p>
<% end %>	


<%= content_for :sidebar do %>

	<li><%= link_to "#{casein_show_icon "plus-sign"}Add a new menu".html_safe, new_casein_menu_path %></li>

<% end %>
