<h2>Edit Course Formats</h2>

<%= form_tag update_multiple_casein_course_formats_path, defaults: { input_html: { :class => 'multiple-edit' } } do %>

	<table class="table table-striped table-hover table-condensed">
		<thead>
			<tr>
				<th><%= casein_sort_link "Title", :title %></th>
				<th><%= casein_sort_link "Date", :date %></th>
				<th><%= casein_sort_link "Date to", :date %></th>
				<th><%= casein_sort_link "Venue", :venue %></th>
				<th><%= casein_sort_link "Publish Date", :published_at %></th>
				<th><%= casein_sort_link "Status", :workflow_state %></th>
			</tr>
		</thead>
		
		<% @course_formats.each do |course_format| %>
			<%= simple_fields_for 'course_formats[]', course_format do |f| %>
			<tr>	
				<td><%= casein_table_cell_link course_format.title, casein_course_format_path(course_format) %></td>
				<td><%= f.input :when_from, label: false, as: :date, html5: true %></td>
				<td><%= f.input :when_to, label: false, as: :date, html5: true %></td>
				<td><%= f.input :venue, label: false %></td>
				<td><%= f.input :published_at, as: :date, html5: true, label: false  %></td>
				<td><%= f.input :workflow_state, label: false, collection: CourseFormat.states %></td>

			</tr>
			<% end %>
		<% end %>
	</table>
	<p class="submits">
		<%= link_to 'Cancel', casein_events_path, :class => 'btn btn-mini btn-default' %>
		<%= submit_tag "Save changes", :class => "btn btn-mini btn-primary" %>
	</p>
<% end %>	

<%= content_for :sidebar do %>

	<li><%= link_to "#{casein_show_icon "plus-sign"}Add a new event".html_safe, new_casein_event_path %></li>
<% end %>