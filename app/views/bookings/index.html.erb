<h1>Bookings</h1>

<%= simple_form_for :booking, :url => bookings_path do |f| %>
<div class = 'row'>
	<div class = 'col-xs-12 col-sm-6 col-md-6 col-lg-6'>
		<div class = 'row'>
			<div class = 'col-xs-12 col-sm-6 col-md-4 col-lg-4'>
				<%= f.input :salutation %>
			</div>
			<div class = 'col-xs-12 col-sm-6 col-md-8 col-lg-8'>
				<%= f.input :first_name, as: :string %>
			</div>
		</div>
			<%= f.input :last_name, as: :string %>
			<%= f.input :street_address %>
		<div class = 'row'>
			<div class = 'col-xs-12 col-sm-6 col-md-6 col-lg-6'>
				<%= f.input :city %>
			</div>
			<div class = 'col-xs-12 col-sm-6 col-md-6 col-lg-6'>
				<%= f.input :county %>
			</div>
		</div>
		<div class = 'row'>
			<div class = 'col-xs-12 col-sm-6 col-md-6 col-lg-6'>
				<%= f.input :country %>
			</div>

			<div class = 'col-xs-12 col-sm-6 col-md-6 col-lg-6'>
				<%= f.input :post_code %>
			</div>
		</div>
	</div>
	<div class = 'col-xs-12 col-sm-12 col-md-6 col-lg-6'>
		<%= f.input :telephone %>
		<%= f.input :mobile %>
		<%= f.input :date_of_birth %>
		<%= f.input :car_reg %>
		<%= f.input :voice_type %>
	</div>
</div>
<br />
<div class = 'row'>
	<div class = 'col-xs-12 col-sm-12 col-md-12 col-lg-12'>
		<% @sf_courses.each do |course| %>
			<%= link_to course.label, '#', :class => 'btn btn-success' %>
		<% end %>
	</div>
</div>
<br />
<div class = 'row'>

	<div class = 'col-xs-12 col-sm-12 col-md-12 col-lg-12'>
	<h3 class = 'inline-title'>Solo Classes</h3><span class = 'instruction'> (please select up to 3 options)</span><br />
		<%= f.collection_check_boxes :solo_classes, @solo_classes, :label, :value %>
	</div>
	<div class = 'col-xs-12 col-sm-6 col-md-6 col-lg-6'>
		<%= f.input :Notes_for_Class_Selection, label: 'Choice 4 (optional)', hint: '(Replace with this option if any of my selections are not availble)' %>
	</div>
	<div class = 'col-xs-12 col-sm-12 col-md-12 col-lg-12'>
		<h3 class = 'inline-title'>Choral and Ensemble Classes</h3><span class = 'instruction'> (please select 1 from each session)</span><br />
	</div>
	<div class = 'col-xs-12 col-sm-3 col-md-3 col-lg-3'>
		<%= f.input :session_1, collection: @session1, label_method: :label, value_method: :value, input_html: { :class => 'session'} %>
		<div class = 'session-options'>
		</div>
	</div>
	<div class = 'col-xs-12 col-sm-3 col-md-3 col-lg-3'>
		<%= f.input :session_2, collection: @session2, label_method: :label, value_method: :value, input_html: { :class => 'session'} %>
		<div class = 'session-options'>
		</div>
	</div>
	<div class = 'col-xs-12 col-sm-3 col-md-3 col-lg-3'>
		<%= f.input :session_3, collection: @session3, label_method: :label, value_method: :value, input_html: { :class => 'session'} %>
		<div class = 'session-options'>
		</div>
	</div>
		<div class = 'col-xs-12 col-sm-3 col-md-3 col-lg-3'>
		<%= f.input :session_4, collection: @session4, label_method: :label, value_method: :value, input_html: { :class => 'session'} %>
		<div class = 'session-options'>
		</div>
	</div>
</div>



	<br class = 'clr' />
	<%= f.button :submit, :class => 'btn btn-primary' %>
<% end %>
<ul>
<%= sf_session_options(@booking.fields, @session1.first.value, 'Session_1__c', @client) %>
</ul>
<br />

<ul>
<% @booking.recordTypeInfos.each do |type| %>
<li>
<%= type.name %>
</li>
<% end %>
</ul>

<br />

<ul>
<% @booking.fields.each do |field| %>
<li>
<%= field.name %>
<ul>
	<%= field %>
</ul>
</li>
<% end %>
</ul>

<script>
	$(document).ready(function() {
		$(".session").change(function() {
			var selection = $(this).val();
			console.log(selection);
			$(this).parent().append("<%= j collection_check_boxes :booking, :session_1_options, 
				sf_session_options(@booking.fields, @session1.first.value, 'Session_1__c', @client), :label, :value %>")
		})
		
	})
</script>